{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\CS projects\\\\wix-enter-exam\\\\client\\\\src\\\\components\\\\Post.js\",\n  _s = $RefreshSig$();\nimport { ListItem, ListItemButton, IconButton, Card, CardContent, CardActions, Typography } from '@mui/material';\nimport { useState, useEffect } from 'react';\nimport ClappingIcon from './assets/ClappingIcon';\nimport AddTagButton from './AddTagButton';\nimport Tag from './Tag';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Post(_ref) {\n  _s();\n  let {\n    postId,\n    postTitle,\n    postContent,\n    Tags,\n    getPostClaps,\n    addPostToTagList,\n    handleAddTagClick,\n    handleTagClick,\n    handleClapClick,\n    handleUserClapClick,\n    selectedTagId,\n    userId\n  } = _ref;\n  const getTagsByPostId = postID => {\n    const tagsArr = [];\n    for (const tagName in Tags) {\n      if (Tags[tagName][postID]) {\n        tagsArr.push(tagName);\n      }\n    }\n    return tagsArr;\n  };\n  const tagsNameArr = getTagsByPostId(postId);\n  const isTag = tagsNameArr.length > 0 ? true : false;\n  let didUserClappedOnPost = false;\n  const [clapsNum, setClapsNum] = useState(0);\n\n  // useEffect(() => {\n  //   const storedClapsNum = getPostClapsCount(postId);\n  //   if (storedClapsNum) {\n  //     setClapsNum(storedClapsNum);\n  //   }\n  // }, []);\n\n  // useEffect(() => {\n  //   localStorage.setItem(`claps-${postId}`, JSON.stringify(clapsNum));\n  // }, [clapsNum]);\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    alignItems: \"flex-start\",\n    className: \"post\",\n    \"data-testid\": `post-${postId}`,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(ListItemButton, {\n        disableGutters: true,\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            gutterBottom: true,\n            \"data-testid\": `postTitle-${postId}`,\n            children: postTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            gutterBottom: true,\n            \"data-testid\": `postContent-${postId}`,\n            children: postContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        children: [/*#__PURE__*/_jsxDEV(AddTagButton, {\n          dataTestId: `postAddTagBtn-${postId}`,\n          onClick: e => {\n            handleAddTagClick(e, postId);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), isTag && tagsNameArr.map(tagName => /*#__PURE__*/_jsxDEV(Tag, {\n          tagName: tagName,\n          postId: postId,\n          handleTagClick: handleTagClick,\n          addPostToTagList: addPostToTagList,\n          selectedTagId: selectedTagId,\n          onClick: e => {\n            console.log('tag clicked');\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"clapping\",\n          size: \"small\",\n          \"data-testid\": `postClapsBtn-${postId}`,\n          onClick: () => {\n            handleUserClapClick(userId);\n            handleClapClick(postId);\n            let count = getPostClaps(postId);\n            console.log('count', count);\n            setClapsNum(count + 1);\n          },\n          children: /*#__PURE__*/_jsxDEV(ClappingIcon, {\n            didUserClappedOnPost: didUserClappedOnPost,\n            dataTestId: `postClappingIcon-${postId}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"string\",\n          \"data-testid\": `postClapsNum-${postId}`,\n          children: clapsNum\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, postId, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"h+L2bS3tcTuDOPLHg/nXf7na8+I=\");\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["ListItem","ListItemButton","IconButton","Card","CardContent","CardActions","Typography","useState","useEffect","ClappingIcon","AddTagButton","Tag","jsxDEV","_jsxDEV","Post","_ref","_s","postId","postTitle","postContent","Tags","getPostClaps","addPostToTagList","handleAddTagClick","handleTagClick","handleClapClick","handleUserClapClick","selectedTagId","userId","getTagsByPostId","postID","tagsArr","tagName","push","tagsNameArr","isTag","length","didUserClappedOnPost","clapsNum","setClapsNum","alignItems","className","children","disableGutters","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","dataTestId","onClick","e","map","console","log","size","count","_c","$RefreshReg$"],"sources":["D:/Documents/CS projects/wix-enter-exam/client/src/components/Post.js"],"sourcesContent":["import {\n  ListItem,\n  ListItemButton,\n  IconButton,\n  Card,\n  CardContent,\n  CardActions,\n  Typography,\n} from '@mui/material';\nimport { useState, useEffect } from 'react';\nimport ClappingIcon from './assets/ClappingIcon';\nimport AddTagButton from './AddTagButton';\nimport Tag from './Tag';\n\nfunction Post({\n  postId,\n  postTitle,\n  postContent,\n  Tags,\n  getPostClaps,\n  addPostToTagList,\n  handleAddTagClick,\n  handleTagClick,\n  handleClapClick,\n  handleUserClapClick,\n  selectedTagId,\n  userId,\n}) {\n  const getTagsByPostId = (postID) => {\n    const tagsArr = [];\n    for (const tagName in Tags) {\n      if (Tags[tagName][postID]) {\n        tagsArr.push(tagName);\n      }\n    }\n    return tagsArr;\n  };\n\n  const tagsNameArr = getTagsByPostId(postId);\n  const isTag = tagsNameArr.length > 0 ? true : false;\n  let didUserClappedOnPost = false;\n\n  const [clapsNum, setClapsNum] = useState(0);\n\n  // useEffect(() => {\n  //   const storedClapsNum = getPostClapsCount(postId);\n  //   if (storedClapsNum) {\n  //     setClapsNum(storedClapsNum);\n  //   }\n  // }, []);\n\n  // useEffect(() => {\n  //   localStorage.setItem(`claps-${postId}`, JSON.stringify(clapsNum));\n  // }, [clapsNum]);\n  \n  return (\n    <ListItem\n      alignItems='flex-start'\n      key={postId}\n      className='post'\n      data-testid={`post-${postId}`}\n    >\n      <Card className='post'>\n        <ListItemButton disableGutters>\n          <CardContent>\n            <Typography\n              variant='h5'\n              gutterBottom\n              data-testid={`postTitle-${postId}`}\n            >\n              {postTitle}\n            </Typography>\n            <Typography\n              variant='body1'\n              gutterBottom\n              data-testid={`postContent-${postId}`}\n            >\n              {postContent}\n            </Typography>\n          </CardContent>\n        </ListItemButton>\n        <CardActions>\n          <AddTagButton\n            dataTestId={`postAddTagBtn-${postId}`}\n            onClick={(e) => {\n              handleAddTagClick(e, postId);\n            }\n          }\n          />\n          {isTag &&\n            tagsNameArr.map((tagName) => (\n              <Tag\n                tagName={tagName}\n                postId={postId}\n                handleTagClick={handleTagClick}\n                addPostToTagList={addPostToTagList}\n                selectedTagId={selectedTagId}\n                onClick={(e) => {\n                  console.log('tag clicked');\n                }}\n              />\n            ))}\n          <IconButton\n            aria-label='clapping'\n            size='small'\n            data-testid={`postClapsBtn-${postId}`}\n            onClick={() => {\n                handleUserClapClick(userId);\n                handleClapClick(postId);\n                let count = getPostClaps(postId);\n                console.log('count', count);\n                setClapsNum(count + 1);\n              }}\n            >\n            <ClappingIcon\n              didUserClappedOnPost={didUserClappedOnPost}\n              dataTestId={`postClappingIcon-${postId}`}\n            />\n          </IconButton>\n          <Typography variant='string' data-testid={`postClapsNum-${postId}`}>\n            {clapsNum}\n          </Typography>\n        </CardActions>\n      </Card>\n    </ListItem>\n  );\n}\n\nexport default Post;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}